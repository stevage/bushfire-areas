(function(e){function t(t){for(var n,s,o=t[0],l=t[1],c=t[2],f=0,d=[];f<o.length;f++)s=o[f],a[s]&&d.push(a[s][0]),a[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var l=r[o];0!==a[l]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={app:0},i=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var n=r("64a9"),a=r.n(n);a.a},"0955":function(e,t,r){"use strict";var n=r("b0cb"),a=r.n(n);a.a},1:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("097d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex flex-column vh-100 avenir",attrs:{id:"app"}},[e._m(0),r("div",{staticClass:"flex flex-auto",attrs:{id:"middle"}},[r("div",{staticClass:"br b--light-gray overflow-auto w w-20-ns pa2",attrs:{id:"sidebar"}},[e._m(1),r("p",[e._v("It is not intended for any other purpose, including decision making.")]),r("FeatureInfo")],1),r("div",{staticClass:"relative flex-auto",attrs:{id:"map-container"}},[r("Map"),r("div",{staticClass:"absolute",attrs:{id:"overlay"}},[r("div",{staticClass:"legend bg-white ma2 pa2 ba"},e._l(e.legendColors(),function(t){return r("div",{staticClass:"pa1"},[r("div",{staticClass:"mr2 dib block w1 h1",style:{background:t[1]}}),r("span",{staticClass:"v-top"},[e._v(e._s(t[0]))])])}),0)])],1)]),r("div",{staticClass:"bt b--light-gray flex-none",attrs:{id:"bottom"}},[r("p",{domProps:{innerHTML:e._s('Made by <a href="https://hire.stevebennett.me">Steve Bennett.')}})])])},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"bb b--gray bg-washed-yellow h3",attrs:{id:"top"}},[r("h1",[e._v("Bushfire areas")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"b i"},[e._v("This is just a demonstration of EMSINA's public fire areas "),r("a",{attrs:{href:"https://www.arcgis.com/home/item.html?id=bc87de02d8ae4911b070607838370184"}},[e._v("spatial endpoints")]),e._v(".")])}],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"absolute absolute--fill",attrs:{id:"map"}})},o=[],l=(r("a481"),r("75fc")),c=(r("96cf"),r("3b8d")),u=r("e192"),f=r.n(u),d=r("8936"),p=r.n(d),h=(r("ac6d"),r("f915"),r("078d")),v={data:function(){return{agencyColors:["NSW Rural Fire Service","hsla(0,80%,60%, 0.5)","VIC Dept of Environment, Land, Water and Planning","hsla(40,80%,60%, 0.5)","SA Country Fire Service","hsla(110, 50%, 60%, 0.5)","TAS Tasmanina Fire Service","hsla(300, 80%, 60%, 0.5)"]}},computed:{legendColors:function(){return[["NSW RFS",this.agencyColors[1]],["VIC DELWP",this.agencyColors[3]],["SA CFS",this.agencyColors[5]],["TAS TFS",this.agencyColors[7]]]}},mounted:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:f.a.accessToken="pk.eyJ1Ijoic3RldmFnZSIsImEiOiJjazNmNGV5enAwMTF1M2tuejhtc2twcXo5In0.mLPrYIYJ2FiFZ3KMqVIj6w",t=new f.a.Map({container:"map",center:[145.96,-32.33],zoom:4,style:"mapbox://styles/mapbox/light-v9",hash:!0}),p.a.init(t,f.a),window.map=t,window.MapVue=this,t.U.onLoad(Object(c["a"])(regeneratorRuntime.mark(function e(){var n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.U.addGeoJSON("bushfire-areas"),t.U.addFill("bushfire-fills",{source:"bushfire-areas",fillColor:["match",["get","Agency"]].concat(Object(l["a"])(r.agencyColors),["blue"]),fillOutline:"transparent"}),t.U.addLine("bushfire-lines",{source:"bushfire-areas",lineWidth:2,lineColor:["match",["get","Agency"]].concat(Object(l["a"])(r.agencyColors.map(function(e){return e.replace(/\.\d+\)$/,".9)")})),["blue"])}),t.U.addSymbol("bushfire-labels",{source:"bushfire-areas",textColor:"black",textField:"{Title}",textHaloWidth:1,textHaloColor:"hsla(0,0%,100%,0.5)",textSize:["interpolate",["linear"],["zoom"],6,8,12,16],textOpacity:["interpolate",["linear"],["zoom"],6,["case",[">",["get","Hectares"],1e5],1,0],8,["case",[">",["get","Hectares"],2e4],1,0],10,1],minZoom:8}),t.U.hoverPointer("bushfire-fills"),t.on("click","bushfire-fills",function(e){console.log(e),window.FeatureInfo.feature=e.features[0]}),n="https://services9.arcgis.com/ZFlIzBMHgtgl0EYj/arcgis/rest/services/BushfireBoundaries/FeatureServer/0",a=new h({url:n}),i=function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a.get({where:"1=1"},function(e,r){console.log("Updated data",r),t.U.setData("bushfire-areas",r)});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),i(),window.setInterval(i,6e5);case 11:case"end":return e.stop()}},e,this)})));case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},b=v,m=r("2877"),g=Object(m["a"])(b,s,o,!1,null,"f33b5442",null);g.options.__file="Map.vue";var _=g.exports,w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.feature?r("div",{staticClass:"bt-black"},[r("br"),r("h2",{staticClass:"mb0",domProps:{innerHTML:e._s(e.title)}}),r("div",{staticClass:"gray"},[e._v(e._s(e.p.Agency))]),r("div",{staticClass:"b mt4"},[e._v("Size: "+e._s(e.p.Hectares.toLocaleString())+" ha")]),r("br"),r("p",{staticClass:"f7"},[e._v("Retrieved: "+e._s(e.p.Date_retrieved))]),r("p",{staticClass:"f7"},[e._v("Published: "+e._s(e.p.PublishedDate))])]):e._e()},y=[],C={name:"FeatureInfo",data:function(){return{feature:void 0,ignoreProps:["id","Longitude","Latitude","image_url"]}},computed:{imageUrl:function(){return this.feature&&this.feature.properties.image_url},p:function(){return this.feature&&this.feature.properties},title:function(){return this.p.Title.replace(/ - /g,"<br>")}},created:function(){window.FeatureInfo=this}},S=C,x=(r("0955"),Object(m["a"])(S,w,y,!1,null,"1e031ed4",null));x.options.__file="FeatureInfo.vue";var F=x.exports,j={name:"app",components:{Map:_,FeatureInfo:F},methods:{legendColors:function(){return[["NSW RFS","hsla(0,80%,60%,0.8)"],["VIC DELWP","hsla(40,80%,60%,0.8)"],["SA CFS","hsla(110, 50%, 60%, 0.8)"],["TAS TFS","hsla(300, 80%, 60%, 0.8)"]]}}};r("948e");var O=j,I=(r("034f"),Object(m["a"])(O,a,i,!1,null,null,null));I.options.__file="App.vue";var M=I.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(M)}}).$mount("#app")},"64a9":function(e,t,r){},b0cb:function(e,t,r){}});
//# sourceMappingURL=app.42574f02.js.map